# 前端工作台布局重构（2025-10）

## 目标
- 主界面左侧固定项目列表并支持快速搜索，提升跨项目切换效率。
- 中央区域聚焦布局画布，保持拖拽/连线/背景透明度等核心能力。
- 右侧侧栏用于展示未布局设备资源与统计，便于工程师及时补齐布点。
- 属性编辑改为浮动面板，不占用主布局横向空间，仍可快速修改节点信息。

## 实施要点
1. `ShellLayout`
   - 引入本地 `searchTerm` 状态与 `useMemo` 过滤项目。
   - 移除右侧通知侧栏，改为在页眉展示实时状态与通知数量。
   - 添加 `/projects/manage` 快捷入口，对应项目管理页面（原 `ProjectOverview`）。
2. `App`
   - 新增 `WorkbenchRedirect`：自动跳转至首个带默认布局的项目；若不存在则提示前往项目管理。
   - 新增 `ProjectWithoutLayout`：用于提示未设默认布局的项目。
3. `LayoutWorkbench`
   - 调整为“画布 + 设备资源栏”结构，设备栏宽度扩展至 `w-96`。
   - 引入 `FloatingPropertyPanel`，在画布右上角浮动呈现选中节点属性与背景透明度调节。
4. `DevicePalette`
   - 增加统计卡片（总数/未布局/已布局），并在加载时反馈状态。
   - 仍保留点击放置设备能力，适配新的右侧侧栏布局。

## 后续验证
- 启动前后端容器：`docker compose up -d frontend backend postgres redis`
- 在 `frontend` 容器中执行 `npm run build` 确认通过。
- 手动验证流程：
  1. 搜索项目关键字，确认列表即时过滤。
  2. 选择项目后，右侧显示未布局设备列表与统计。
  3. 点击设备放置到画布，统计中的“已布局/未布局”实时变化。
  4. 选中画布节点，浮动属性面板可编辑名称、类型、IP，并可调整背景透明度。
